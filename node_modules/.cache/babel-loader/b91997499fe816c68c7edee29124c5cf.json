{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kamalesh M\\\\Desktop\\\\reactclient\\\\frontend\\\\src\\\\components\\\\login.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch } from \"react-redux\";\nimport { populateUserDetail } from \"../redux/userDetail\";\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport Box from '@mui/material/Box';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LogIn() {\n  _s();\n  const theme = createTheme();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  async function logInAuth(e) {\n    //const email= userEMail.current.value\n    //const password = userPassWord.current.value\n\n    e.preventDefault();\n    console.log(\"////////\", email, password);\n    var UserDetails = undefined;\n    if (email && email.length > 0 && password && password.length > 0) {\n      await fetch(\"http://localhost:8000/login\", {\n        // Adding method type\n        method: \"POST\",\n        credentials: \"include\",\n        // Adding body or contents to send\n        body: JSON.stringify({\n          username: email,\n          password: password\n        }),\n        // Adding headers to the request\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\"\n        }\n      }).then(response => response.json()).then(json => UserDetails = json);\n      if (UserDetails && UserDetails.message === \"Authenticated\") {\n        console.log(\"user details:\", UserDetails);\n        dispatch(populateUserDetail(UserDetails));\n        navigate('/Dashboard');\n      } else {\n        alert(\"enter correct email/password\");\n      }\n    }\n  }\n  const emailInputHandler = e => {\n    var value = e.target.value;\n    setEmail(value);\n  };\n  const passwordInputHandler = e => {\n    var value = e.target.value;\n    setPassword(value);\n  };\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          marginTop: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          sx: {\n            m: 1,\n            bgcolor: 'secondary.main'\n          },\n          children: /*#__PURE__*/_jsxDEV(LockOutlinedIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h5\",\n          style: {\n            color: \"whitesmoke\"\n          },\n          children: \"Sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          noValidate: true,\n          sx: {\n            mt: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            onChange: emailInputHandler,\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            id: \"email\",\n            label: \"Email Address\",\n            name: \"email\",\n            autoComplete: \"email\",\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            onChange: passwordInputHandler,\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            name: \"password\",\n            label: \"Password\",\n            type: \"password\",\n            id: \"password\",\n            autoComplete: \"current-password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: logInAuth,\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            sx: {\n              mt: 3,\n              mb: 2\n            },\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(LogIn, \"eKVVyAJizwqU2GqHp/FM7Jb6bHA=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n_c = LogIn;\nexport default LogIn;\nvar _c;\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"names":["React","useRef","useState","useNavigate","useDispatch","populateUserDetail","Avatar","Button","CssBaseline","TextField","Box","LockOutlinedIcon","Typography","Container","createTheme","ThemeProvider","LogIn","theme","dispatch","navigate","email","setEmail","password","setPassword","logInAuth","e","preventDefault","console","log","UserDetails","undefined","length","fetch","method","credentials","body","JSON","stringify","username","headers","then","response","json","message","alert","emailInputHandler","value","target","passwordInputHandler","marginTop","display","flexDirection","alignItems","m","bgcolor","color","mt","mb"],"sources":["C:/Users/Kamalesh M/Desktop/reactclient/frontend/src/components/login.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { populateUserDetail } from \"../redux/userDetail\";\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Button from '@mui/material/Button';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport Box from '@mui/material/Box';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nfunction LogIn() {\r\n  const theme = createTheme();\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate();\r\n    const [email,setEmail]= useState('');\r\n    const [password,setPassword]= useState('');\r\n    async function logInAuth(e){\r\n        //const email= userEMail.current.value\r\n        //const password = userPassWord.current.value\r\n        \r\n        e.preventDefault();\r\n        console.log(\"////////\",email,password)\r\n        var UserDetails = undefined;\r\n        if(email && email.length > 0 && password && password.length > 0){\r\n        await fetch(\"http://localhost:8000/login\", {   \r\n            // Adding method type\r\n            method: \"POST\",\r\n            credentials: \"include\",\r\n            // Adding body or contents to send\r\n            body: JSON.stringify({\r\n                username: email,\r\n                password: password\r\n            }),\r\n            // Adding headers to the request\r\n            headers: {\r\n                \"Content-type\": \"application/json; charset=UTF-8\"\r\n            }\r\n        })\r\n        .then(response => response.json())\r\n        .then(json => UserDetails = json);\r\n        if(UserDetails && UserDetails.message === \"Authenticated\"){\r\n          console.log(\"user details:\",UserDetails)\r\n          dispatch(populateUserDetail(UserDetails))\r\n          navigate('/Dashboard');\r\n        }\r\n        else{\r\n          alert(\"enter correct email/password\")\r\n        }\r\n      }\r\n    }\r\n    const emailInputHandler = e => {\r\n      var value = e.target.value\r\n      setEmail(value) \r\n    }\r\n    const passwordInputHandler = e => {\r\n      var value = e.target.value\r\n      setPassword(value) \r\n    }\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <Box\r\n          sx={{\r\n            marginTop: 8,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\" style={{color:\"whitesmoke\"}}>\r\n            Sign in\r\n          </Typography>\r\n          <Box component=\"form\"noValidate sx={{ mt: 1 }}>\r\n            <TextField\r\n              onChange={emailInputHandler}\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n            />\r\n            <TextField\r\n              onChange={passwordInputHandler}\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n            />\r\n            <Button\r\n              onClick={logInAuth} \r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              sx={{ mt: 3, mb: 2 }}\r\n            >\r\n              Sign In\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default LogIn;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,kBAAkB,QAAQ,qBAAqB;AACxD,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,SAAS,MAAM,yBAAyB;AAE/C,OAAOC,GAAG,MAAM,mBAAmB;AACnC,OAAOC,gBAAgB,MAAM,kCAAkC;AAC/D,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,SAASC,WAAW,EAAEC,aAAa,QAAQ,sBAAsB;AAAC;AAClE,SAASC,KAAK,GAAG;EAAA;EACf,MAAMC,KAAK,GAAGH,WAAW,EAAE;EACzB,MAAMI,QAAQ,GAAGd,WAAW,EAAE;EAC9B,MAAMe,QAAQ,GAAGhB,WAAW,EAAE;EAC9B,MAAM,CAACiB,KAAK,EAACC,QAAQ,CAAC,GAAEnB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACoB,QAAQ,EAACC,WAAW,CAAC,GAAErB,QAAQ,CAAC,EAAE,CAAC;EAC1C,eAAesB,SAAS,CAACC,CAAC,EAAC;IACvB;IACA;;IAEAA,CAAC,CAACC,cAAc,EAAE;IAClBC,OAAO,CAACC,GAAG,CAAC,UAAU,EAACR,KAAK,EAACE,QAAQ,CAAC;IACtC,IAAIO,WAAW,GAAGC,SAAS;IAC3B,IAAGV,KAAK,IAAIA,KAAK,CAACW,MAAM,GAAG,CAAC,IAAIT,QAAQ,IAAIA,QAAQ,CAACS,MAAM,GAAG,CAAC,EAAC;MAChE,MAAMC,KAAK,CAAC,6BAA6B,EAAE;QACvC;QACAC,MAAM,EAAE,MAAM;QACdC,WAAW,EAAE,SAAS;QACtB;QACAC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjBC,QAAQ,EAAElB,KAAK;UACfE,QAAQ,EAAEA;QACd,CAAC,CAAC;QACF;QACAiB,OAAO,EAAE;UACL,cAAc,EAAE;QACpB;MACJ,CAAC,CAAC,CACDC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACjCF,IAAI,CAACE,IAAI,IAAIb,WAAW,GAAGa,IAAI,CAAC;MACjC,IAAGb,WAAW,IAAIA,WAAW,CAACc,OAAO,KAAK,eAAe,EAAC;QACxDhB,OAAO,CAACC,GAAG,CAAC,eAAe,EAACC,WAAW,CAAC;QACxCX,QAAQ,CAACb,kBAAkB,CAACwB,WAAW,CAAC,CAAC;QACzCV,QAAQ,CAAC,YAAY,CAAC;MACxB,CAAC,MACG;QACFyB,KAAK,CAAC,8BAA8B,CAAC;MACvC;IACF;EACF;EACA,MAAMC,iBAAiB,GAAGpB,CAAC,IAAI;IAC7B,IAAIqB,KAAK,GAAGrB,CAAC,CAACsB,MAAM,CAACD,KAAK;IAC1BzB,QAAQ,CAACyB,KAAK,CAAC;EACjB,CAAC;EACD,MAAME,oBAAoB,GAAGvB,CAAC,IAAI;IAChC,IAAIqB,KAAK,GAAGrB,CAAC,CAACsB,MAAM,CAACD,KAAK;IAC1BvB,WAAW,CAACuB,KAAK,CAAC;EACpB,CAAC;EACH,oBACE,QAAC,aAAa;IAAC,KAAK,EAAE7B,KAAM;IAAA,uBAC1B,QAAC,SAAS;MAAC,SAAS,EAAC,MAAM;MAAC,QAAQ,EAAC,IAAI;MAAA,wBACvC,QAAC,WAAW;QAAA;QAAA;QAAA;MAAA,QAAG,eACf,QAAC,GAAG;QACF,EAAE,EAAE;UACFgC,SAAS,EAAE,CAAC;UACZC,OAAO,EAAE,MAAM;UACfC,aAAa,EAAE,QAAQ;UACvBC,UAAU,EAAE;QACd,CAAE;QAAA,wBAEF,QAAC,MAAM;UAAC,EAAE,EAAE;YAAEC,CAAC,EAAE,CAAC;YAAEC,OAAO,EAAE;UAAiB,CAAE;UAAA,uBAC9C,QAAC,gBAAgB;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA,QACb,eACT,QAAC,UAAU;UAAC,SAAS,EAAC,IAAI;UAAC,OAAO,EAAC,IAAI;UAAC,KAAK,EAAE;YAACC,KAAK,EAAC;UAAY,CAAE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAEvD,eACb,QAAC,GAAG;UAAC,SAAS,EAAC,MAAM;UAAA,UAAU;UAAC,EAAE,EAAE;YAAEC,EAAE,EAAE;UAAE,CAAE;UAAA,wBAC5C,QAAC,SAAS;YACR,QAAQ,EAAEX,iBAAkB;YAC5B,MAAM,EAAC,QAAQ;YACf,QAAQ;YACR,SAAS;YACT,EAAE,EAAC,OAAO;YACV,KAAK,EAAC,eAAe;YACrB,IAAI,EAAC,OAAO;YACZ,YAAY,EAAC,OAAO;YACpB,SAAS;UAAA;YAAA;YAAA;YAAA;UAAA,QACT,eACF,QAAC,SAAS;YACR,QAAQ,EAAEG,oBAAqB;YAC/B,MAAM,EAAC,QAAQ;YACf,QAAQ;YACR,SAAS;YACT,IAAI,EAAC,UAAU;YACf,KAAK,EAAC,UAAU;YAChB,IAAI,EAAC,UAAU;YACf,EAAE,EAAC,UAAU;YACb,YAAY,EAAC;UAAkB;YAAA;YAAA;YAAA;UAAA,QAC/B,eACF,QAAC,MAAM;YACL,OAAO,EAAExB,SAAU;YACnB,IAAI,EAAC,QAAQ;YACb,SAAS;YACT,OAAO,EAAC,WAAW;YACnB,EAAE,EAAE;cAAEgC,EAAE,EAAE,CAAC;cAAEC,EAAE,EAAE;YAAE,CAAE;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAGd;QAAA;UAAA;UAAA;UAAA;QAAA,QACL;MAAA;QAAA;QAAA;QAAA;MAAA,QACF;IAAA;MAAA;MAAA;MAAA;IAAA;EACI;IAAA;IAAA;IAAA;EAAA,QACE;AAEpB;AAAC,GAvGQzC,KAAK;EAAA,QAEOZ,WAAW,EACXD,WAAW;AAAA;AAAA,KAHvBa,KAAK;AAyGd,eAAeA,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module"}