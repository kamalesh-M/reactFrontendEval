{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _format = _interopRequireDefault(require(\"date-fns/format\"));\nvar _2 = require(\"./\");\nvar DataManager = /*#__PURE__*/function () {\n  function DataManager() {\n    var _this = this;\n    (0, _classCallCheck2.default)(this, DataManager);\n    (0, _defineProperty2.default)(this, \"applyFilters\", false);\n    (0, _defineProperty2.default)(this, \"applySearch\", false);\n    (0, _defineProperty2.default)(this, \"applySort\", false);\n    (0, _defineProperty2.default)(this, \"currentPage\", 0);\n    (0, _defineProperty2.default)(this, \"detailPanelType\", \"multiple\");\n    (0, _defineProperty2.default)(this, \"lastDetailPanelRow\", undefined);\n    (0, _defineProperty2.default)(this, \"lastEditingRow\", undefined);\n    (0, _defineProperty2.default)(this, \"orderBy\", -1);\n    (0, _defineProperty2.default)(this, \"orderDirection\", \"\");\n    (0, _defineProperty2.default)(this, \"pageSize\", 5);\n    (0, _defineProperty2.default)(this, \"paging\", true);\n    (0, _defineProperty2.default)(this, \"parentFunc\", null);\n    (0, _defineProperty2.default)(this, \"searchText\", \"\");\n    (0, _defineProperty2.default)(this, \"selectedCount\", 0);\n    (0, _defineProperty2.default)(this, \"treefiedDataLength\", 0);\n    (0, _defineProperty2.default)(this, \"treeDataMaxLevel\", 0);\n    (0, _defineProperty2.default)(this, \"groupedDataLength\", 0);\n    (0, _defineProperty2.default)(this, \"defaultExpanded\", false);\n    (0, _defineProperty2.default)(this, \"bulkEditOpen\", false);\n    (0, _defineProperty2.default)(this, \"bulkEditChangedRows\", {});\n    (0, _defineProperty2.default)(this, \"data\", []);\n    (0, _defineProperty2.default)(this, \"columns\", []);\n    (0, _defineProperty2.default)(this, \"filteredData\", []);\n    (0, _defineProperty2.default)(this, \"searchedData\", []);\n    (0, _defineProperty2.default)(this, \"groupedData\", []);\n    (0, _defineProperty2.default)(this, \"treefiedData\", []);\n    (0, _defineProperty2.default)(this, \"sortedData\", []);\n    (0, _defineProperty2.default)(this, \"pagedData\", []);\n    (0, _defineProperty2.default)(this, \"renderData\", []);\n    (0, _defineProperty2.default)(this, \"filtered\", false);\n    (0, _defineProperty2.default)(this, \"searched\", false);\n    (0, _defineProperty2.default)(this, \"grouped\", false);\n    (0, _defineProperty2.default)(this, \"treefied\", false);\n    (0, _defineProperty2.default)(this, \"sorted\", false);\n    (0, _defineProperty2.default)(this, \"paged\", false);\n    (0, _defineProperty2.default)(this, \"rootGroupsIndex\", {});\n    (0, _defineProperty2.default)(this, \"startCellEditable\", function (rowData, columnDef) {\n      rowData.tableData.editCellList = [].concat((0, _toConsumableArray2.default)(rowData.tableData.editCellList || []), [columnDef]);\n    });\n    (0, _defineProperty2.default)(this, \"finishCellEditable\", function (rowData, columnDef) {\n      if (rowData.tableData.editCellList) {\n        var index = rowData.tableData.editCellList.findIndex(function (c) {\n          return c.tableData.id === columnDef.tableData.id;\n        });\n        if (index !== -1) {\n          rowData.tableData.editCellList.splice(index, 1);\n        }\n      }\n    });\n    (0, _defineProperty2.default)(this, \"clearBulkEditChangedRows\", function () {\n      _this.bulkEditChangedRows = {};\n    });\n    (0, _defineProperty2.default)(this, \"onBulkEditRowChanged\", function (oldData, newData) {\n      _this.bulkEditChangedRows[oldData.tableData.id] = {\n        oldData: oldData,\n        newData: newData\n      };\n    });\n    (0, _defineProperty2.default)(this, \"expandTreeForNodes\", function (data) {\n      data.forEach(function (row) {\n        var currentRow = row;\n        while (_this.parentFunc(currentRow, _this.data)) {\n          var parent = _this.parentFunc(currentRow, _this.data);\n          if (parent) {\n            parent.tableData.isTreeExpanded = true;\n          }\n          currentRow = parent;\n        }\n      });\n    });\n    (0, _defineProperty2.default)(this, \"findDataByPath\", function (renderData, path) {\n      if (_this.isDataType(\"tree\")) {\n        var node = path.reduce(function (result, current) {\n          return result && result.tableData && result.tableData.childRows && result.tableData.childRows[current];\n        }, {\n          tableData: {\n            childRows: renderData\n          }\n        });\n        return node;\n      } else {\n        var data = {\n          groups: renderData\n        };\n        var _node = path.reduce(function (result, current) {\n          if (result.groups.length > 0) {\n            return result.groups[current];\n          } else if (result.data) {\n            return result.data[current];\n          } else {\n            return undefined;\n          }\n        }, data);\n        return _node;\n      }\n    });\n    (0, _defineProperty2.default)(this, \"getFieldValue\", function (rowData, columnDef) {\n      var lookup = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var value = typeof rowData[columnDef.field] !== \"undefined\" ? rowData[columnDef.field] : (0, _2.byString)(rowData, columnDef.field);\n      if (columnDef.lookup && lookup) {\n        value = columnDef.lookup[value];\n      }\n      return value;\n    });\n    (0, _defineProperty2.default)(this, \"getRenderState\", function () {\n      if (_this.filtered === false) {\n        _this.filterData();\n      }\n      if (_this.searched === false) {\n        _this.searchData();\n      }\n      if (_this.grouped === false && _this.isDataType(\"group\")) {\n        _this.groupData();\n      }\n      if (_this.treefied === false && _this.isDataType(\"tree\")) {\n        _this.treefyData();\n      }\n      if (_this.sorted === false) {\n        _this.sortData();\n      }\n      if (_this.paged === false) {\n        _this.pageData();\n      }\n      return {\n        columns: _this.columns,\n        currentPage: _this.currentPage,\n        data: _this.sortedData,\n        lastEditingRow: _this.lastEditingRow,\n        orderBy: _this.orderBy,\n        orderDirection: _this.orderDirection,\n        originalData: _this.data,\n        pageSize: _this.pageSize,\n        renderData: _this.pagedData,\n        searchText: _this.searchText,\n        selectedCount: _this.selectedCount,\n        treefiedDataLength: _this.treefiedDataLength,\n        treeDataMaxLevel: _this.treeDataMaxLevel,\n        groupedDataLength: _this.groupedDataLength\n      };\n    });\n    (0, _defineProperty2.default)(this, \"filterData\", function () {\n      _this.searched = _this.grouped = _this.treefied = _this.sorted = _this.paged = false;\n      _this.filteredData = (0, _toConsumableArray2.default)(_this.data);\n      if (_this.applyFilters) {\n        _this.columns.filter(function (columnDef) {\n          return columnDef.tableData.filterValue;\n        }).forEach(function (columnDef) {\n          var lookup = columnDef.lookup,\n            type = columnDef.type,\n            tableData = columnDef.tableData;\n          if (columnDef.customFilterAndSearch) {\n            _this.filteredData = _this.filteredData.filter(function (row) {\n              return !!columnDef.customFilterAndSearch(tableData.filterValue, row, columnDef);\n            });\n          } else {\n            if (lookup) {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef, false);\n                return !tableData.filterValue || tableData.filterValue.length === 0 || tableData.filterValue.indexOf(value !== undefined && value !== null && value.toString()) > -1;\n              });\n            } else if (type === \"numeric\") {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n                return value + \"\" === tableData.filterValue;\n              });\n            } else if (type === \"boolean\" && tableData.filterValue) {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n                return value && tableData.filterValue === \"checked\" || !value && tableData.filterValue === \"unchecked\";\n              });\n            } else if ([\"date\", \"datetime\"].includes(type)) {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n                var currentDate = value ? new Date(value) : null;\n                if (currentDate && currentDate.toString() !== \"Invalid Date\") {\n                  var selectedDate = tableData.filterValue;\n                  var currentDateToCompare = \"\";\n                  var selectedDateToCompare = \"\";\n                  if (type === \"date\") {\n                    currentDateToCompare = (0, _format.default)(currentDate, \"MM/dd/yyyy\");\n                    selectedDateToCompare = (0, _format.default)(selectedDate, \"MM/dd/yyyy\");\n                  } else if (type === \"datetime\") {\n                    currentDateToCompare = (0, _format.default)(currentDate, \"MM/dd/yyyy - HH:mm\");\n                    selectedDateToCompare = (0, _format.default)(selectedDate, \"MM/dd/yyyy - HH:mm\");\n                  }\n                  return currentDateToCompare === selectedDateToCompare;\n                }\n                return true;\n              });\n            } else if (type === \"time\") {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n                var currentHour = value || null;\n                if (currentHour) {\n                  var selectedHour = tableData.filterValue;\n                  var currentHourToCompare = (0, _format.default)(selectedHour, \"HH:mm\");\n                  return currentHour === currentHourToCompare;\n                }\n                return true;\n              });\n            } else {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n                return value && value.toString().toUpperCase().includes(tableData.filterValue.toUpperCase());\n              });\n            }\n          }\n        });\n      }\n      _this.filtered = true;\n    });\n    (0, _defineProperty2.default)(this, \"searchData\", function () {\n      _this.grouped = _this.treefied = _this.sorted = _this.paged = false;\n      _this.searchedData = (0, _toConsumableArray2.default)(_this.filteredData);\n      if (_this.searchText && _this.applySearch) {\n        var trimmedSearchText = _this.searchText.trim();\n        _this.searchedData = _this.searchedData.filter(function (row) {\n          return _this.columns.filter(function (columnDef) {\n            return columnDef.searchable === undefined ? !columnDef.hidden : columnDef.searchable;\n          }).some(function (columnDef) {\n            if (columnDef.customFilterAndSearch) {\n              return !!columnDef.customFilterAndSearch(trimmedSearchText, row, columnDef);\n            } else if (columnDef.field) {\n              var value = _this.getFieldValue(row, columnDef);\n              if (value) {\n                return value.toString().toUpperCase().includes(trimmedSearchText.toUpperCase());\n              }\n            }\n          });\n        });\n      }\n      _this.searched = true;\n    });\n  }\n  (0, _createClass2.default)(DataManager, [{\n    key: \"setData\",\n    value: function setData(data) {\n      var _this2 = this;\n      this.selectedCount = 0;\n      this.data = data.map(function (row, index) {\n        row.tableData = (0, _objectSpread2.default)({}, row.tableData, {\n          id: index\n        });\n        if (row.tableData.checked) {\n          _this2.selectedCount++;\n        }\n        return row;\n      });\n      this.filtered = false;\n    }\n  }, {\n    key: \"setColumns\",\n    value: function setColumns(columns) {\n      var undefinedWidthColumns = columns.filter(function (c) {\n        return c.width === undefined && c.columnDef ? c.columnDef.tableData.width === undefined : true && !c.hidden;\n      });\n      var usedWidth = [\"0px\"];\n      this.columns = columns.map(function (columnDef, index) {\n        columnDef.tableData = (0, _objectSpread2.default)({\n          columnOrder: index,\n          filterValue: columnDef.defaultFilter,\n          groupOrder: columnDef.defaultGroupOrder,\n          groupSort: columnDef.defaultGroupSort || \"asc\",\n          width: typeof columnDef.width === \"number\" ? columnDef.width + \"px\" : columnDef.width,\n          initialWidth: typeof columnDef.width === \"number\" ? columnDef.width + \"px\" : columnDef.width,\n          additionalWidth: 0\n        }, columnDef.tableData, {\n          id: index\n        });\n        if (columnDef.tableData.width !== undefined) {\n          usedWidth.push(columnDef.tableData.width);\n        }\n        return columnDef;\n      });\n      usedWidth = \"(\" + usedWidth.join(\" + \") + \")\";\n      undefinedWidthColumns.forEach(function (columnDef) {\n        columnDef.tableData.width = columnDef.tableData.initialWidth = \"calc((100% - \".concat(usedWidth, \") / \").concat(undefinedWidthColumns.length, \")\");\n      });\n    }\n  }, {\n    key: \"setDefaultExpanded\",\n    value: function setDefaultExpanded(expanded) {\n      this.defaultExpanded = expanded;\n    }\n  }, {\n    key: \"changeApplySearch\",\n    value: function changeApplySearch(applySearch) {\n      this.applySearch = applySearch;\n      this.searched = false;\n    }\n  }, {\n    key: \"changeApplyFilters\",\n    value: function changeApplyFilters(applyFilters) {\n      this.applyFilters = applyFilters;\n      this.filtered = false;\n    }\n  }, {\n    key: \"changeApplySort\",\n    value: function changeApplySort(applySort) {\n      this.applySort = applySort;\n      this.sorted = false;\n    }\n  }, {\n    key: \"changePaging\",\n    value: function changePaging(paging) {\n      this.paging = paging;\n      this.paged = false;\n    }\n  }, {\n    key: \"changeCurrentPage\",\n    value: function changeCurrentPage(currentPage) {\n      this.currentPage = currentPage;\n      this.paged = false;\n    }\n  }, {\n    key: \"changePageSize\",\n    value: function changePageSize(pageSize) {\n      this.pageSize = pageSize;\n      this.paged = false;\n    }\n  }, {\n    key: \"changeParentFunc\",\n    value: function changeParentFunc(parentFunc) {\n      this.parentFunc = parentFunc;\n    }\n  }, {\n    key: \"changeFilterValue\",\n    value: function changeFilterValue(columnId, value) {\n      this.columns[columnId].tableData.filterValue = value;\n      this.filtered = false;\n    }\n  }, {\n    key: \"changeRowSelected\",\n    value: function changeRowSelected(checked, path) {\n      var _this3 = this;\n      var rowData = this.findDataByPath(this.sortedData, path);\n      rowData.tableData.checked = checked;\n      this.selectedCount = this.selectedCount + (checked ? 1 : -1);\n      var checkChildRows = function checkChildRows(rowData) {\n        if (rowData.tableData.childRows) {\n          rowData.tableData.childRows.forEach(function (childRow) {\n            if (childRow.tableData.checked !== checked) {\n              childRow.tableData.checked = checked;\n              _this3.selectedCount = _this3.selectedCount + (checked ? 1 : -1);\n            }\n            checkChildRows(childRow);\n          });\n        }\n      };\n      checkChildRows(rowData);\n      this.filtered = false;\n    }\n  }, {\n    key: \"changeDetailPanelVisibility\",\n    value: function changeDetailPanelVisibility(path, render) {\n      var rowData = this.findDataByPath(this.sortedData, path);\n      if ((rowData.tableData.showDetailPanel || \"\").toString() === render.toString()) {\n        rowData.tableData.showDetailPanel = undefined;\n      } else {\n        rowData.tableData.showDetailPanel = render;\n      }\n      if (this.detailPanelType === \"single\" && this.lastDetailPanelRow && this.lastDetailPanelRow != rowData) {\n        this.lastDetailPanelRow.tableData.showDetailPanel = undefined;\n      }\n      this.lastDetailPanelRow = rowData;\n    }\n  }, {\n    key: \"changeGroupExpand\",\n    value: function changeGroupExpand(path) {\n      var rowData = this.findDataByPath(this.sortedData, path);\n      rowData.isExpanded = !rowData.isExpanded;\n    }\n  }, {\n    key: \"changeSearchText\",\n    value: function changeSearchText(searchText) {\n      this.searchText = searchText;\n      this.searched = false;\n      this.currentPage = 0;\n    }\n  }, {\n    key: \"changeRowEditing\",\n    value: function changeRowEditing(rowData, mode) {\n      if (rowData) {\n        rowData.tableData.editing = mode;\n        if (this.lastEditingRow && this.lastEditingRow != rowData) {\n          this.lastEditingRow.tableData.editing = undefined;\n        }\n        if (mode) {\n          this.lastEditingRow = rowData;\n        } else {\n          this.lastEditingRow = undefined;\n        }\n      } else if (this.lastEditingRow) {\n        this.lastEditingRow.tableData.editing = undefined;\n        this.lastEditingRow = undefined;\n      }\n    }\n  }, {\n    key: \"changeBulkEditOpen\",\n    value: function changeBulkEditOpen(bulkEditOpen) {\n      this.bulkEditOpen = bulkEditOpen;\n    }\n  }, {\n    key: \"changeAllSelected\",\n    value: function changeAllSelected(checked) {\n      var selectedCount = 0;\n      if (this.isDataType(\"group\")) {\n        var setCheck = function setCheck(data) {\n          data.forEach(function (element) {\n            if (element.groups.length > 0) {\n              setCheck(element.groups);\n            } else {\n              element.data.forEach(function (d) {\n                d.tableData.checked = d.tableData.disabled ? false : checked;\n                selectedCount++;\n              });\n            }\n          });\n        };\n        setCheck(this.groupedData);\n      } else {\n        this.searchedData.map(function (row) {\n          row.tableData.checked = row.tableData.disabled ? false : checked;\n          return row;\n        });\n        selectedCount = this.searchedData.length;\n      }\n      this.selectedCount = checked ? selectedCount : 0;\n    }\n  }, {\n    key: \"changeOrder\",\n    value: function changeOrder(orderBy, orderDirection) {\n      this.orderBy = orderBy;\n      this.orderDirection = orderDirection;\n      this.currentPage = 0;\n      this.sorted = false;\n    }\n  }, {\n    key: \"changeGroupOrder\",\n    value: function changeGroupOrder(columnId) {\n      var column = this.columns.find(function (c) {\n        return c.tableData.id === columnId;\n      });\n      if (column.tableData.groupSort === \"asc\") {\n        column.tableData.groupSort = \"desc\";\n      } else {\n        column.tableData.groupSort = \"asc\";\n      }\n      this.sorted = false;\n    }\n  }, {\n    key: \"changeColumnHidden\",\n    value: function changeColumnHidden(column, hidden) {\n      column.hidden = hidden;\n      column.hiddenByColumnsButton = hidden;\n    }\n  }, {\n    key: \"changeTreeExpand\",\n    value: function changeTreeExpand(path) {\n      var rowData = this.findDataByPath(this.sortedData, path);\n      rowData.tableData.isTreeExpanded = !rowData.tableData.isTreeExpanded;\n    }\n  }, {\n    key: \"changeDetailPanelType\",\n    value: function changeDetailPanelType(type) {\n      this.detailPanelType = type;\n    }\n  }, {\n    key: \"changeByDrag\",\n    value: function changeByDrag(result) {\n      var start = 0;\n      var groups = this.columns.filter(function (col) {\n        return col.tableData.groupOrder > -1;\n      }).sort(function (col1, col2) {\n        return col1.tableData.groupOrder - col2.tableData.groupOrder;\n      });\n      if (result.destination.droppableId === \"groups\" && result.source.droppableId === \"groups\") {\n        start = Math.min(result.destination.index, result.source.index);\n        var end = Math.max(result.destination.index, result.source.index);\n        groups = groups.slice(start, end + 1);\n        if (result.destination.index < result.source.index) {\n          // Take last and add as first\n          var last = groups.pop();\n          groups.unshift(last);\n        } else {\n          // Take first and add as last\n          var _last = groups.shift();\n          groups.push(_last);\n        }\n      } else if (result.destination.droppableId === \"groups\" && result.source.droppableId === \"headers\") {\n        var newGroup = this.columns.find(function (c) {\n          return c.tableData.id == result.draggableId;\n        });\n        if (newGroup.grouping === false || !newGroup.field) {\n          return;\n        }\n        groups.splice(result.destination.index, 0, newGroup);\n      } else if (result.destination.droppableId === \"headers\" && result.source.droppableId === \"groups\") {\n        var removeGroup = this.columns.find(function (c) {\n          return c.tableData.id == result.draggableId;\n        });\n        removeGroup.tableData.groupOrder = undefined;\n        groups.splice(result.source.index, 1);\n      } else if (result.destination.droppableId === \"headers\" && result.source.droppableId === \"headers\") {\n        start = Math.min(result.destination.index, result.source.index);\n        var _end = Math.max(result.destination.index, result.source.index); // get the effective start and end considering hidden columns\n\n        var sorted = this.columns.sort(function (a, b) {\n          return a.tableData.columnOrder - b.tableData.columnOrder;\n        }).filter(function (column) {\n          return column.tableData.groupOrder === undefined;\n        });\n        var numHiddenBeforeStart = 0;\n        var numVisibleBeforeStart = 0;\n        for (var i = 0; i < sorted.length && numVisibleBeforeStart <= start; i++) {\n          if (sorted[i].hidden) {\n            numHiddenBeforeStart++;\n          } else {\n            numVisibleBeforeStart++;\n          }\n        }\n        var effectiveStart = start + numHiddenBeforeStart;\n        var effectiveEnd = effectiveStart;\n        for (var numVisibleInRange = 0; numVisibleInRange < _end - start && effectiveEnd < sorted.length; effectiveEnd++) {\n          if (!sorted[effectiveEnd].hidden) {\n            numVisibleInRange++;\n          }\n        }\n        var colsToMov = sorted.slice(effectiveStart, effectiveEnd + 1);\n        if (result.destination.index < result.source.index) {\n          // Take last and add as first\n          var _last2 = colsToMov.pop();\n          colsToMov.unshift(_last2);\n        } else {\n          // Take first and add as last\n          var _last3 = colsToMov.shift();\n          colsToMov.push(_last3);\n        }\n        for (var _i = 0; _i < colsToMov.length; _i++) {\n          colsToMov[_i].tableData.columnOrder = effectiveStart + _i;\n        }\n        return;\n      } else {\n        return;\n      }\n      for (var _i2 = 0; _i2 < groups.length; _i2++) {\n        groups[_i2].tableData.groupOrder = start + _i2;\n      }\n      this.sorted = this.grouped = false;\n    }\n  }, {\n    key: \"onColumnResized\",\n    value: function onColumnResized(id, additionalWidth) {\n      var column = this.columns.find(function (c) {\n        return c.tableData.id === id;\n      });\n      if (!column) return;\n      var nextColumn = this.columns.find(function (c) {\n        return c.tableData.id === id + 1;\n      });\n      if (!nextColumn) return; // console.log(\"S i: \" + column.tableData.initialWidth);\n      // console.log(\"S a: \" + column.tableData.additionalWidth);\n      // console.log(\"S w: \" + column.tableData.width);\n\n      column.tableData.additionalWidth = additionalWidth;\n      column.tableData.width = \"calc(\".concat(column.tableData.initialWidth, \" + \").concat(column.tableData.additionalWidth, \"px)\"); // nextColumn.tableData.additionalWidth = -1 * additionalWidth;\n      // nextColumn.tableData.width = `calc(${nextColumn.tableData.initialWidth} + ${nextColumn.tableData.additionalWidth}px)`;\n      // console.log(\"F i: \" + column.tableData.initialWidth);\n      // console.log(\"F a: \" + column.tableData.additionalWidth);\n      // console.log(\"F w: \" + column.tableData.width);\n    }\n  }, {\n    key: \"findGroupByGroupPath\",\n    value: function findGroupByGroupPath(renderData, path) {\n      var data = {\n        groups: renderData,\n        groupsIndex: this.rootGroupsIndex\n      };\n      var node = path.reduce(function (result, current) {\n        if (!result) {\n          return undefined;\n        }\n        if (result.groupsIndex[current] !== undefined) {\n          return result.groups[result.groupsIndex[current]];\n        }\n        return undefined; // const group = result.groups.find(a => a.value === current);\n        // return group;\n      }, data);\n      return node;\n    }\n  }, {\n    key: \"isDataType\",\n    value: function isDataType(type) {\n      var dataType = \"normal\";\n      if (this.parentFunc) {\n        dataType = \"tree\";\n      } else if (this.columns.find(function (a) {\n        return a.tableData.groupOrder > -1;\n      })) {\n        dataType = \"group\";\n      }\n      return type === dataType;\n    }\n  }, {\n    key: \"sort\",\n    value: function sort(a, b, type) {\n      if (type === \"numeric\") {\n        return a - b;\n      } else {\n        if (a !== b) {\n          // to find nulls\n          if (!a) return -1;\n          if (!b) return 1;\n        }\n        return a < b ? -1 : a > b ? 1 : 0;\n      }\n    }\n  }, {\n    key: \"sortList\",\n    value: function sortList(list) {\n      var _this4 = this;\n      var columnDef = this.columns.find(function (_) {\n        return _.tableData.id === _this4.orderBy;\n      });\n      var result = list;\n      if (columnDef.customSort) {\n        if (this.orderDirection === \"desc\") {\n          result = list.sort(function (a, b) {\n            return columnDef.customSort(b, a, \"row\", \"desc\");\n          });\n        } else {\n          result = list.sort(function (a, b) {\n            return columnDef.customSort(a, b, \"row\");\n          });\n        }\n      } else {\n        result = list.sort(this.orderDirection === \"desc\" ? function (a, b) {\n          return _this4.sort(_this4.getFieldValue(b, columnDef), _this4.getFieldValue(a, columnDef), columnDef.type);\n        } : function (a, b) {\n          return _this4.sort(_this4.getFieldValue(a, columnDef), _this4.getFieldValue(b, columnDef), columnDef.type);\n        });\n      }\n      return result;\n    }\n  }, {\n    key: \"groupData\",\n    value: function groupData() {\n      var _this5 = this;\n      this.sorted = this.paged = false;\n      this.groupedDataLength = 0;\n      var tmpData = (0, _toConsumableArray2.default)(this.searchedData);\n      var groups = this.columns.filter(function (col) {\n        return col.tableData.groupOrder > -1;\n      }).sort(function (col1, col2) {\n        return col1.tableData.groupOrder - col2.tableData.groupOrder;\n      });\n      var subData = tmpData.reduce(function (result, currentRow) {\n        var object = result;\n        object = groups.reduce(function (o, colDef) {\n          var value = currentRow[colDef.field] || (0, _2.byString)(currentRow, colDef.field);\n          var group;\n          if (o.groupsIndex[value] !== undefined) {\n            group = o.groups[o.groupsIndex[value]];\n          }\n          if (!group) {\n            var path = [].concat((0, _toConsumableArray2.default)(o.path || []), [value]);\n            var oldGroup = _this5.findGroupByGroupPath(_this5.groupedData, path) || {\n              isExpanded: typeof _this5.defaultExpanded === \"boolean\" ? _this5.defaultExpanded : false\n            };\n            group = {\n              value: value,\n              groups: [],\n              groupsIndex: {},\n              data: [],\n              isExpanded: oldGroup.isExpanded,\n              path: path\n            };\n            o.groups.push(group);\n            o.groupsIndex[value] = o.groups.length - 1;\n          }\n          return group;\n        }, object);\n        object.data.push(currentRow);\n        _this5.groupedDataLength++;\n        return result;\n      }, {\n        groups: [],\n        groupsIndex: {}\n      });\n      this.groupedData = subData.groups;\n      this.grouped = true;\n      this.rootGroupsIndex = subData.groupsIndex;\n    }\n  }, {\n    key: \"treefyData\",\n    value: function treefyData() {\n      var _this6 = this;\n      this.sorted = this.paged = false;\n      this.data.forEach(function (a) {\n        return a.tableData.childRows = null;\n      });\n      this.treefiedData = [];\n      this.treefiedDataLength = 0;\n      this.treeDataMaxLevel = 0; // if filter or search is enabled, collapse the tree\n\n      if (this.searchText || this.columns.some(function (columnDef) {\n        return columnDef.tableData.filterValue;\n      })) {\n        this.data.forEach(function (row) {\n          row.tableData.isTreeExpanded = false;\n        }); // expand the tree for all nodes present after filtering and searching\n\n        this.expandTreeForNodes(this.searchedData);\n      }\n      var addRow = function addRow(rowData) {\n        rowData.tableData.markedForTreeRemove = false;\n        var parent = _this6.parentFunc(rowData, _this6.data);\n        if (parent) {\n          parent.tableData.childRows = parent.tableData.childRows || [];\n          if (!parent.tableData.childRows.includes(rowData)) {\n            parent.tableData.childRows.push(rowData);\n            _this6.treefiedDataLength++;\n          }\n          addRow(parent);\n          rowData.tableData.path = [].concat((0, _toConsumableArray2.default)(parent.tableData.path), [parent.tableData.childRows.length - 1]);\n          _this6.treeDataMaxLevel = Math.max(_this6.treeDataMaxLevel, rowData.tableData.path.length);\n        } else {\n          if (!_this6.treefiedData.includes(rowData)) {\n            _this6.treefiedData.push(rowData);\n            _this6.treefiedDataLength++;\n            rowData.tableData.path = [_this6.treefiedData.length - 1];\n          }\n        }\n      }; // Add all rows initially\n\n      this.data.forEach(function (rowData) {\n        addRow(rowData);\n      });\n      var markForTreeRemove = function markForTreeRemove(rowData) {\n        var pointer = _this6.treefiedData;\n        rowData.tableData.path.forEach(function (pathPart) {\n          if (pointer.tableData && pointer.tableData.childRows) {\n            pointer = pointer.tableData.childRows;\n          }\n          pointer = pointer[pathPart];\n        });\n        pointer.tableData.markedForTreeRemove = true;\n      };\n      var traverseChildrenAndUnmark = function traverseChildrenAndUnmark(rowData) {\n        if (rowData.tableData.childRows) {\n          rowData.tableData.childRows.forEach(function (row) {\n            traverseChildrenAndUnmark(row);\n          });\n        }\n        rowData.tableData.markedForTreeRemove = false;\n      }; // for all data rows, restore initial expand if no search term is available and remove items that shouldn't be there\n\n      this.data.forEach(function (rowData) {\n        if (!_this6.searchText && !_this6.columns.some(function (columnDef) {\n          return columnDef.tableData.filterValue;\n        })) {\n          if (rowData.tableData.isTreeExpanded === undefined) {\n            var isExpanded = typeof _this6.defaultExpanded === \"boolean\" ? _this6.defaultExpanded : _this6.defaultExpanded(rowData);\n            rowData.tableData.isTreeExpanded = isExpanded;\n          }\n        }\n        var hasSearchMatchedChildren = rowData.tableData.isTreeExpanded;\n        if (!hasSearchMatchedChildren && _this6.searchedData.indexOf(rowData) < 0) {\n          markForTreeRemove(rowData);\n        }\n      }); // preserve all children of nodes that are matched by search or filters\n\n      this.data.forEach(function (rowData) {\n        if (_this6.searchedData.indexOf(rowData) > -1) {\n          traverseChildrenAndUnmark(rowData);\n        }\n      });\n      var traverseTreeAndDeleteMarked = function traverseTreeAndDeleteMarked(rowDataArray) {\n        for (var i = rowDataArray.length - 1; i >= 0; i--) {\n          var item = rowDataArray[i];\n          if (item.tableData.childRows) {\n            traverseTreeAndDeleteMarked(item.tableData.childRows);\n          }\n          if (item.tableData.markedForTreeRemove) rowDataArray.splice(i, 1);\n        }\n      };\n      traverseTreeAndDeleteMarked(this.treefiedData);\n      this.treefied = true;\n    }\n  }, {\n    key: \"sortData\",\n    value: function sortData() {\n      var _this7 = this;\n      this.paged = false;\n      if (this.isDataType(\"group\")) {\n        this.sortedData = (0, _toConsumableArray2.default)(this.groupedData);\n        var groups = this.columns.filter(function (col) {\n          return col.tableData.groupOrder > -1;\n        }).sort(function (col1, col2) {\n          return col1.tableData.groupOrder - col2.tableData.groupOrder;\n        });\n        var sortGroups = function sortGroups(list, columnDef) {\n          if (columnDef.customSort) {\n            return list.sort(columnDef.tableData.groupSort === \"desc\" ? function (a, b) {\n              return columnDef.customSort(b.value, a.value, \"group\");\n            } : function (a, b) {\n              return columnDef.customSort(a.value, b.value, \"group\");\n            });\n          } else {\n            return list.sort(columnDef.tableData.groupSort === \"desc\" ? function (a, b) {\n              return _this7.sort(b.value, a.value, columnDef.type);\n            } : function (a, b) {\n              return _this7.sort(a.value, b.value, columnDef.type);\n            });\n          }\n        };\n        this.sortedData = sortGroups(this.sortedData, groups[0]);\n        var sortGroupData = function sortGroupData(list, level) {\n          list.forEach(function (element) {\n            if (element.groups.length > 0) {\n              var column = groups[level];\n              element.groups = sortGroups(element.groups, column);\n              sortGroupData(element.groups, level + 1);\n            } else {\n              if (_this7.orderBy >= 0 && _this7.orderDirection) {\n                element.data = _this7.sortList(element.data);\n              }\n            }\n          });\n        };\n        sortGroupData(this.sortedData, 1);\n      } else if (this.isDataType(\"tree\")) {\n        this.sortedData = (0, _toConsumableArray2.default)(this.treefiedData);\n        if (this.orderBy != -1) {\n          this.sortedData = this.sortList(this.sortedData);\n          var sortTree = function sortTree(list) {\n            list.forEach(function (item) {\n              if (item.tableData.childRows) {\n                item.tableData.childRows = _this7.sortList(item.tableData.childRows);\n                sortTree(item.tableData.childRows);\n              }\n            });\n          };\n          sortTree(this.sortedData);\n        }\n      } else if (this.isDataType(\"normal\")) {\n        this.sortedData = (0, _toConsumableArray2.default)(this.searchedData);\n        if (this.orderBy != -1 && this.applySort) {\n          this.sortedData = this.sortList(this.sortedData);\n        }\n      }\n      this.sorted = true;\n    }\n  }, {\n    key: \"pageData\",\n    value: function pageData() {\n      this.pagedData = (0, _toConsumableArray2.default)(this.sortedData);\n      if (this.paging) {\n        var startIndex = this.currentPage * this.pageSize;\n        var endIndex = startIndex + this.pageSize;\n        this.pagedData = this.pagedData.slice(startIndex, endIndex);\n      }\n      this.paged = true;\n    }\n  }]);\n  return DataManager;\n}();\nexports.default = DataManager;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_objectSpread2","_toConsumableArray2","_classCallCheck2","_createClass2","_defineProperty2","_format","_2","DataManager","_this","undefined","rowData","columnDef","tableData","editCellList","concat","index","findIndex","c","id","splice","bulkEditChangedRows","oldData","newData","data","forEach","row","currentRow","parentFunc","parent","isTreeExpanded","renderData","path","isDataType","node","reduce","result","current","childRows","groups","_node","length","lookup","arguments","field","byString","filtered","filterData","searched","searchData","grouped","groupData","treefied","treefyData","sorted","sortData","paged","pageData","columns","currentPage","sortedData","lastEditingRow","orderBy","orderDirection","originalData","pageSize","pagedData","searchText","selectedCount","treefiedDataLength","treeDataMaxLevel","groupedDataLength","filteredData","applyFilters","filter","filterValue","type","customFilterAndSearch","getFieldValue","indexOf","toString","includes","currentDate","Date","selectedDate","currentDateToCompare","selectedDateToCompare","currentHour","selectedHour","currentHourToCompare","toUpperCase","searchedData","applySearch","trimmedSearchText","trim","searchable","hidden","some","key","setData","_this2","map","checked","setColumns","undefinedWidthColumns","width","usedWidth","columnOrder","defaultFilter","groupOrder","defaultGroupOrder","groupSort","defaultGroupSort","initialWidth","additionalWidth","push","join","setDefaultExpanded","expanded","defaultExpanded","changeApplySearch","changeApplyFilters","changeApplySort","applySort","changePaging","paging","changeCurrentPage","changePageSize","changeParentFunc","changeFilterValue","columnId","changeRowSelected","_this3","findDataByPath","checkChildRows","childRow","changeDetailPanelVisibility","render","showDetailPanel","detailPanelType","lastDetailPanelRow","changeGroupExpand","isExpanded","changeSearchText","changeRowEditing","mode","editing","changeBulkEditOpen","bulkEditOpen","changeAllSelected","setCheck","element","d","disabled","groupedData","changeOrder","changeGroupOrder","column","find","changeColumnHidden","hiddenByColumnsButton","changeTreeExpand","changeDetailPanelType","changeByDrag","start","col","sort","col1","col2","destination","droppableId","source","Math","min","end","max","slice","last","pop","unshift","_last","shift","newGroup","draggableId","grouping","removeGroup","_end","a","b","numHiddenBeforeStart","numVisibleBeforeStart","i","effectiveStart","effectiveEnd","numVisibleInRange","colsToMov","_last2","_last3","_i","_i2","onColumnResized","nextColumn","findGroupByGroupPath","groupsIndex","rootGroupsIndex","dataType","sortList","list","_this4","_","customSort","_this5","tmpData","subData","object","o","colDef","group","oldGroup","_this6","treefiedData","expandTreeForNodes","addRow","markedForTreeRemove","markForTreeRemove","pointer","pathPart","traverseChildrenAndUnmark","hasSearchMatchedChildren","traverseTreeAndDeleteMarked","rowDataArray","item","_this7","sortGroups","sortGroupData","level","sortTree","startIndex","endIndex"],"sources":["C:/Users/Kamalesh M/Desktop/reactclient/frontend/node_modules/material-table/dist/utils/data-manager.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _format = _interopRequireDefault(require(\"date-fns/format\"));\n\nvar _2 = require(\"./\");\n\nvar DataManager = /*#__PURE__*/function () {\n  function DataManager() {\n    var _this = this;\n\n    (0, _classCallCheck2.default)(this, DataManager);\n    (0, _defineProperty2.default)(this, \"applyFilters\", false);\n    (0, _defineProperty2.default)(this, \"applySearch\", false);\n    (0, _defineProperty2.default)(this, \"applySort\", false);\n    (0, _defineProperty2.default)(this, \"currentPage\", 0);\n    (0, _defineProperty2.default)(this, \"detailPanelType\", \"multiple\");\n    (0, _defineProperty2.default)(this, \"lastDetailPanelRow\", undefined);\n    (0, _defineProperty2.default)(this, \"lastEditingRow\", undefined);\n    (0, _defineProperty2.default)(this, \"orderBy\", -1);\n    (0, _defineProperty2.default)(this, \"orderDirection\", \"\");\n    (0, _defineProperty2.default)(this, \"pageSize\", 5);\n    (0, _defineProperty2.default)(this, \"paging\", true);\n    (0, _defineProperty2.default)(this, \"parentFunc\", null);\n    (0, _defineProperty2.default)(this, \"searchText\", \"\");\n    (0, _defineProperty2.default)(this, \"selectedCount\", 0);\n    (0, _defineProperty2.default)(this, \"treefiedDataLength\", 0);\n    (0, _defineProperty2.default)(this, \"treeDataMaxLevel\", 0);\n    (0, _defineProperty2.default)(this, \"groupedDataLength\", 0);\n    (0, _defineProperty2.default)(this, \"defaultExpanded\", false);\n    (0, _defineProperty2.default)(this, \"bulkEditOpen\", false);\n    (0, _defineProperty2.default)(this, \"bulkEditChangedRows\", {});\n    (0, _defineProperty2.default)(this, \"data\", []);\n    (0, _defineProperty2.default)(this, \"columns\", []);\n    (0, _defineProperty2.default)(this, \"filteredData\", []);\n    (0, _defineProperty2.default)(this, \"searchedData\", []);\n    (0, _defineProperty2.default)(this, \"groupedData\", []);\n    (0, _defineProperty2.default)(this, \"treefiedData\", []);\n    (0, _defineProperty2.default)(this, \"sortedData\", []);\n    (0, _defineProperty2.default)(this, \"pagedData\", []);\n    (0, _defineProperty2.default)(this, \"renderData\", []);\n    (0, _defineProperty2.default)(this, \"filtered\", false);\n    (0, _defineProperty2.default)(this, \"searched\", false);\n    (0, _defineProperty2.default)(this, \"grouped\", false);\n    (0, _defineProperty2.default)(this, \"treefied\", false);\n    (0, _defineProperty2.default)(this, \"sorted\", false);\n    (0, _defineProperty2.default)(this, \"paged\", false);\n    (0, _defineProperty2.default)(this, \"rootGroupsIndex\", {});\n    (0, _defineProperty2.default)(this, \"startCellEditable\", function (rowData, columnDef) {\n      rowData.tableData.editCellList = [].concat((0, _toConsumableArray2.default)(rowData.tableData.editCellList || []), [columnDef]);\n    });\n    (0, _defineProperty2.default)(this, \"finishCellEditable\", function (rowData, columnDef) {\n      if (rowData.tableData.editCellList) {\n        var index = rowData.tableData.editCellList.findIndex(function (c) {\n          return c.tableData.id === columnDef.tableData.id;\n        });\n\n        if (index !== -1) {\n          rowData.tableData.editCellList.splice(index, 1);\n        }\n      }\n    });\n    (0, _defineProperty2.default)(this, \"clearBulkEditChangedRows\", function () {\n      _this.bulkEditChangedRows = {};\n    });\n    (0, _defineProperty2.default)(this, \"onBulkEditRowChanged\", function (oldData, newData) {\n      _this.bulkEditChangedRows[oldData.tableData.id] = {\n        oldData: oldData,\n        newData: newData\n      };\n    });\n    (0, _defineProperty2.default)(this, \"expandTreeForNodes\", function (data) {\n      data.forEach(function (row) {\n        var currentRow = row;\n\n        while (_this.parentFunc(currentRow, _this.data)) {\n          var parent = _this.parentFunc(currentRow, _this.data);\n\n          if (parent) {\n            parent.tableData.isTreeExpanded = true;\n          }\n\n          currentRow = parent;\n        }\n      });\n    });\n    (0, _defineProperty2.default)(this, \"findDataByPath\", function (renderData, path) {\n      if (_this.isDataType(\"tree\")) {\n        var node = path.reduce(function (result, current) {\n          return result && result.tableData && result.tableData.childRows && result.tableData.childRows[current];\n        }, {\n          tableData: {\n            childRows: renderData\n          }\n        });\n        return node;\n      } else {\n        var data = {\n          groups: renderData\n        };\n\n        var _node = path.reduce(function (result, current) {\n          if (result.groups.length > 0) {\n            return result.groups[current];\n          } else if (result.data) {\n            return result.data[current];\n          } else {\n            return undefined;\n          }\n        }, data);\n\n        return _node;\n      }\n    });\n    (0, _defineProperty2.default)(this, \"getFieldValue\", function (rowData, columnDef) {\n      var lookup = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var value = typeof rowData[columnDef.field] !== \"undefined\" ? rowData[columnDef.field] : (0, _2.byString)(rowData, columnDef.field);\n\n      if (columnDef.lookup && lookup) {\n        value = columnDef.lookup[value];\n      }\n\n      return value;\n    });\n    (0, _defineProperty2.default)(this, \"getRenderState\", function () {\n      if (_this.filtered === false) {\n        _this.filterData();\n      }\n\n      if (_this.searched === false) {\n        _this.searchData();\n      }\n\n      if (_this.grouped === false && _this.isDataType(\"group\")) {\n        _this.groupData();\n      }\n\n      if (_this.treefied === false && _this.isDataType(\"tree\")) {\n        _this.treefyData();\n      }\n\n      if (_this.sorted === false) {\n        _this.sortData();\n      }\n\n      if (_this.paged === false) {\n        _this.pageData();\n      }\n\n      return {\n        columns: _this.columns,\n        currentPage: _this.currentPage,\n        data: _this.sortedData,\n        lastEditingRow: _this.lastEditingRow,\n        orderBy: _this.orderBy,\n        orderDirection: _this.orderDirection,\n        originalData: _this.data,\n        pageSize: _this.pageSize,\n        renderData: _this.pagedData,\n        searchText: _this.searchText,\n        selectedCount: _this.selectedCount,\n        treefiedDataLength: _this.treefiedDataLength,\n        treeDataMaxLevel: _this.treeDataMaxLevel,\n        groupedDataLength: _this.groupedDataLength\n      };\n    });\n    (0, _defineProperty2.default)(this, \"filterData\", function () {\n      _this.searched = _this.grouped = _this.treefied = _this.sorted = _this.paged = false;\n      _this.filteredData = (0, _toConsumableArray2.default)(_this.data);\n\n      if (_this.applyFilters) {\n        _this.columns.filter(function (columnDef) {\n          return columnDef.tableData.filterValue;\n        }).forEach(function (columnDef) {\n          var lookup = columnDef.lookup,\n              type = columnDef.type,\n              tableData = columnDef.tableData;\n\n          if (columnDef.customFilterAndSearch) {\n            _this.filteredData = _this.filteredData.filter(function (row) {\n              return !!columnDef.customFilterAndSearch(tableData.filterValue, row, columnDef);\n            });\n          } else {\n            if (lookup) {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef, false);\n\n                return !tableData.filterValue || tableData.filterValue.length === 0 || tableData.filterValue.indexOf(value !== undefined && value !== null && value.toString()) > -1;\n              });\n            } else if (type === \"numeric\") {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n\n                return value + \"\" === tableData.filterValue;\n              });\n            } else if (type === \"boolean\" && tableData.filterValue) {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n\n                return value && tableData.filterValue === \"checked\" || !value && tableData.filterValue === \"unchecked\";\n              });\n            } else if ([\"date\", \"datetime\"].includes(type)) {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n\n                var currentDate = value ? new Date(value) : null;\n\n                if (currentDate && currentDate.toString() !== \"Invalid Date\") {\n                  var selectedDate = tableData.filterValue;\n                  var currentDateToCompare = \"\";\n                  var selectedDateToCompare = \"\";\n\n                  if (type === \"date\") {\n                    currentDateToCompare = (0, _format.default)(currentDate, \"MM/dd/yyyy\");\n                    selectedDateToCompare = (0, _format.default)(selectedDate, \"MM/dd/yyyy\");\n                  } else if (type === \"datetime\") {\n                    currentDateToCompare = (0, _format.default)(currentDate, \"MM/dd/yyyy - HH:mm\");\n                    selectedDateToCompare = (0, _format.default)(selectedDate, \"MM/dd/yyyy - HH:mm\");\n                  }\n\n                  return currentDateToCompare === selectedDateToCompare;\n                }\n\n                return true;\n              });\n            } else if (type === \"time\") {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n\n                var currentHour = value || null;\n\n                if (currentHour) {\n                  var selectedHour = tableData.filterValue;\n                  var currentHourToCompare = (0, _format.default)(selectedHour, \"HH:mm\");\n                  return currentHour === currentHourToCompare;\n                }\n\n                return true;\n              });\n            } else {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n\n                return value && value.toString().toUpperCase().includes(tableData.filterValue.toUpperCase());\n              });\n            }\n          }\n        });\n      }\n\n      _this.filtered = true;\n    });\n    (0, _defineProperty2.default)(this, \"searchData\", function () {\n      _this.grouped = _this.treefied = _this.sorted = _this.paged = false;\n      _this.searchedData = (0, _toConsumableArray2.default)(_this.filteredData);\n\n      if (_this.searchText && _this.applySearch) {\n        var trimmedSearchText = _this.searchText.trim();\n\n        _this.searchedData = _this.searchedData.filter(function (row) {\n          return _this.columns.filter(function (columnDef) {\n            return columnDef.searchable === undefined ? !columnDef.hidden : columnDef.searchable;\n          }).some(function (columnDef) {\n            if (columnDef.customFilterAndSearch) {\n              return !!columnDef.customFilterAndSearch(trimmedSearchText, row, columnDef);\n            } else if (columnDef.field) {\n              var value = _this.getFieldValue(row, columnDef);\n\n              if (value) {\n                return value.toString().toUpperCase().includes(trimmedSearchText.toUpperCase());\n              }\n            }\n          });\n        });\n      }\n\n      _this.searched = true;\n    });\n  }\n\n  (0, _createClass2.default)(DataManager, [{\n    key: \"setData\",\n    value: function setData(data) {\n      var _this2 = this;\n\n      this.selectedCount = 0;\n      this.data = data.map(function (row, index) {\n        row.tableData = (0, _objectSpread2.default)({}, row.tableData, {\n          id: index\n        });\n\n        if (row.tableData.checked) {\n          _this2.selectedCount++;\n        }\n\n        return row;\n      });\n      this.filtered = false;\n    }\n  }, {\n    key: \"setColumns\",\n    value: function setColumns(columns) {\n      var undefinedWidthColumns = columns.filter(function (c) {\n        return c.width === undefined && c.columnDef ? c.columnDef.tableData.width === undefined : true && !c.hidden;\n      });\n      var usedWidth = [\"0px\"];\n      this.columns = columns.map(function (columnDef, index) {\n        columnDef.tableData = (0, _objectSpread2.default)({\n          columnOrder: index,\n          filterValue: columnDef.defaultFilter,\n          groupOrder: columnDef.defaultGroupOrder,\n          groupSort: columnDef.defaultGroupSort || \"asc\",\n          width: typeof columnDef.width === \"number\" ? columnDef.width + \"px\" : columnDef.width,\n          initialWidth: typeof columnDef.width === \"number\" ? columnDef.width + \"px\" : columnDef.width,\n          additionalWidth: 0\n        }, columnDef.tableData, {\n          id: index\n        });\n\n        if (columnDef.tableData.width !== undefined) {\n          usedWidth.push(columnDef.tableData.width);\n        }\n\n        return columnDef;\n      });\n      usedWidth = \"(\" + usedWidth.join(\" + \") + \")\";\n      undefinedWidthColumns.forEach(function (columnDef) {\n        columnDef.tableData.width = columnDef.tableData.initialWidth = \"calc((100% - \".concat(usedWidth, \") / \").concat(undefinedWidthColumns.length, \")\");\n      });\n    }\n  }, {\n    key: \"setDefaultExpanded\",\n    value: function setDefaultExpanded(expanded) {\n      this.defaultExpanded = expanded;\n    }\n  }, {\n    key: \"changeApplySearch\",\n    value: function changeApplySearch(applySearch) {\n      this.applySearch = applySearch;\n      this.searched = false;\n    }\n  }, {\n    key: \"changeApplyFilters\",\n    value: function changeApplyFilters(applyFilters) {\n      this.applyFilters = applyFilters;\n      this.filtered = false;\n    }\n  }, {\n    key: \"changeApplySort\",\n    value: function changeApplySort(applySort) {\n      this.applySort = applySort;\n      this.sorted = false;\n    }\n  }, {\n    key: \"changePaging\",\n    value: function changePaging(paging) {\n      this.paging = paging;\n      this.paged = false;\n    }\n  }, {\n    key: \"changeCurrentPage\",\n    value: function changeCurrentPage(currentPage) {\n      this.currentPage = currentPage;\n      this.paged = false;\n    }\n  }, {\n    key: \"changePageSize\",\n    value: function changePageSize(pageSize) {\n      this.pageSize = pageSize;\n      this.paged = false;\n    }\n  }, {\n    key: \"changeParentFunc\",\n    value: function changeParentFunc(parentFunc) {\n      this.parentFunc = parentFunc;\n    }\n  }, {\n    key: \"changeFilterValue\",\n    value: function changeFilterValue(columnId, value) {\n      this.columns[columnId].tableData.filterValue = value;\n      this.filtered = false;\n    }\n  }, {\n    key: \"changeRowSelected\",\n    value: function changeRowSelected(checked, path) {\n      var _this3 = this;\n\n      var rowData = this.findDataByPath(this.sortedData, path);\n      rowData.tableData.checked = checked;\n      this.selectedCount = this.selectedCount + (checked ? 1 : -1);\n\n      var checkChildRows = function checkChildRows(rowData) {\n        if (rowData.tableData.childRows) {\n          rowData.tableData.childRows.forEach(function (childRow) {\n            if (childRow.tableData.checked !== checked) {\n              childRow.tableData.checked = checked;\n              _this3.selectedCount = _this3.selectedCount + (checked ? 1 : -1);\n            }\n\n            checkChildRows(childRow);\n          });\n        }\n      };\n\n      checkChildRows(rowData);\n      this.filtered = false;\n    }\n  }, {\n    key: \"changeDetailPanelVisibility\",\n    value: function changeDetailPanelVisibility(path, render) {\n      var rowData = this.findDataByPath(this.sortedData, path);\n\n      if ((rowData.tableData.showDetailPanel || \"\").toString() === render.toString()) {\n        rowData.tableData.showDetailPanel = undefined;\n      } else {\n        rowData.tableData.showDetailPanel = render;\n      }\n\n      if (this.detailPanelType === \"single\" && this.lastDetailPanelRow && this.lastDetailPanelRow != rowData) {\n        this.lastDetailPanelRow.tableData.showDetailPanel = undefined;\n      }\n\n      this.lastDetailPanelRow = rowData;\n    }\n  }, {\n    key: \"changeGroupExpand\",\n    value: function changeGroupExpand(path) {\n      var rowData = this.findDataByPath(this.sortedData, path);\n      rowData.isExpanded = !rowData.isExpanded;\n    }\n  }, {\n    key: \"changeSearchText\",\n    value: function changeSearchText(searchText) {\n      this.searchText = searchText;\n      this.searched = false;\n      this.currentPage = 0;\n    }\n  }, {\n    key: \"changeRowEditing\",\n    value: function changeRowEditing(rowData, mode) {\n      if (rowData) {\n        rowData.tableData.editing = mode;\n\n        if (this.lastEditingRow && this.lastEditingRow != rowData) {\n          this.lastEditingRow.tableData.editing = undefined;\n        }\n\n        if (mode) {\n          this.lastEditingRow = rowData;\n        } else {\n          this.lastEditingRow = undefined;\n        }\n      } else if (this.lastEditingRow) {\n        this.lastEditingRow.tableData.editing = undefined;\n        this.lastEditingRow = undefined;\n      }\n    }\n  }, {\n    key: \"changeBulkEditOpen\",\n    value: function changeBulkEditOpen(bulkEditOpen) {\n      this.bulkEditOpen = bulkEditOpen;\n    }\n  }, {\n    key: \"changeAllSelected\",\n    value: function changeAllSelected(checked) {\n      var selectedCount = 0;\n\n      if (this.isDataType(\"group\")) {\n        var setCheck = function setCheck(data) {\n          data.forEach(function (element) {\n            if (element.groups.length > 0) {\n              setCheck(element.groups);\n            } else {\n              element.data.forEach(function (d) {\n                d.tableData.checked = d.tableData.disabled ? false : checked;\n                selectedCount++;\n              });\n            }\n          });\n        };\n\n        setCheck(this.groupedData);\n      } else {\n        this.searchedData.map(function (row) {\n          row.tableData.checked = row.tableData.disabled ? false : checked;\n          return row;\n        });\n        selectedCount = this.searchedData.length;\n      }\n\n      this.selectedCount = checked ? selectedCount : 0;\n    }\n  }, {\n    key: \"changeOrder\",\n    value: function changeOrder(orderBy, orderDirection) {\n      this.orderBy = orderBy;\n      this.orderDirection = orderDirection;\n      this.currentPage = 0;\n      this.sorted = false;\n    }\n  }, {\n    key: \"changeGroupOrder\",\n    value: function changeGroupOrder(columnId) {\n      var column = this.columns.find(function (c) {\n        return c.tableData.id === columnId;\n      });\n\n      if (column.tableData.groupSort === \"asc\") {\n        column.tableData.groupSort = \"desc\";\n      } else {\n        column.tableData.groupSort = \"asc\";\n      }\n\n      this.sorted = false;\n    }\n  }, {\n    key: \"changeColumnHidden\",\n    value: function changeColumnHidden(column, hidden) {\n      column.hidden = hidden;\n      column.hiddenByColumnsButton = hidden;\n    }\n  }, {\n    key: \"changeTreeExpand\",\n    value: function changeTreeExpand(path) {\n      var rowData = this.findDataByPath(this.sortedData, path);\n      rowData.tableData.isTreeExpanded = !rowData.tableData.isTreeExpanded;\n    }\n  }, {\n    key: \"changeDetailPanelType\",\n    value: function changeDetailPanelType(type) {\n      this.detailPanelType = type;\n    }\n  }, {\n    key: \"changeByDrag\",\n    value: function changeByDrag(result) {\n      var start = 0;\n      var groups = this.columns.filter(function (col) {\n        return col.tableData.groupOrder > -1;\n      }).sort(function (col1, col2) {\n        return col1.tableData.groupOrder - col2.tableData.groupOrder;\n      });\n\n      if (result.destination.droppableId === \"groups\" && result.source.droppableId === \"groups\") {\n        start = Math.min(result.destination.index, result.source.index);\n        var end = Math.max(result.destination.index, result.source.index);\n        groups = groups.slice(start, end + 1);\n\n        if (result.destination.index < result.source.index) {\n          // Take last and add as first\n          var last = groups.pop();\n          groups.unshift(last);\n        } else {\n          // Take first and add as last\n          var _last = groups.shift();\n\n          groups.push(_last);\n        }\n      } else if (result.destination.droppableId === \"groups\" && result.source.droppableId === \"headers\") {\n        var newGroup = this.columns.find(function (c) {\n          return c.tableData.id == result.draggableId;\n        });\n\n        if (newGroup.grouping === false || !newGroup.field) {\n          return;\n        }\n\n        groups.splice(result.destination.index, 0, newGroup);\n      } else if (result.destination.droppableId === \"headers\" && result.source.droppableId === \"groups\") {\n        var removeGroup = this.columns.find(function (c) {\n          return c.tableData.id == result.draggableId;\n        });\n        removeGroup.tableData.groupOrder = undefined;\n        groups.splice(result.source.index, 1);\n      } else if (result.destination.droppableId === \"headers\" && result.source.droppableId === \"headers\") {\n        start = Math.min(result.destination.index, result.source.index);\n\n        var _end = Math.max(result.destination.index, result.source.index); // get the effective start and end considering hidden columns\n\n\n        var sorted = this.columns.sort(function (a, b) {\n          return a.tableData.columnOrder - b.tableData.columnOrder;\n        }).filter(function (column) {\n          return column.tableData.groupOrder === undefined;\n        });\n        var numHiddenBeforeStart = 0;\n        var numVisibleBeforeStart = 0;\n\n        for (var i = 0; i < sorted.length && numVisibleBeforeStart <= start; i++) {\n          if (sorted[i].hidden) {\n            numHiddenBeforeStart++;\n          } else {\n            numVisibleBeforeStart++;\n          }\n        }\n\n        var effectiveStart = start + numHiddenBeforeStart;\n        var effectiveEnd = effectiveStart;\n\n        for (var numVisibleInRange = 0; numVisibleInRange < _end - start && effectiveEnd < sorted.length; effectiveEnd++) {\n          if (!sorted[effectiveEnd].hidden) {\n            numVisibleInRange++;\n          }\n        }\n\n        var colsToMov = sorted.slice(effectiveStart, effectiveEnd + 1);\n\n        if (result.destination.index < result.source.index) {\n          // Take last and add as first\n          var _last2 = colsToMov.pop();\n\n          colsToMov.unshift(_last2);\n        } else {\n          // Take first and add as last\n          var _last3 = colsToMov.shift();\n\n          colsToMov.push(_last3);\n        }\n\n        for (var _i = 0; _i < colsToMov.length; _i++) {\n          colsToMov[_i].tableData.columnOrder = effectiveStart + _i;\n        }\n\n        return;\n      } else {\n        return;\n      }\n\n      for (var _i2 = 0; _i2 < groups.length; _i2++) {\n        groups[_i2].tableData.groupOrder = start + _i2;\n      }\n\n      this.sorted = this.grouped = false;\n    }\n  }, {\n    key: \"onColumnResized\",\n    value: function onColumnResized(id, additionalWidth) {\n      var column = this.columns.find(function (c) {\n        return c.tableData.id === id;\n      });\n      if (!column) return;\n      var nextColumn = this.columns.find(function (c) {\n        return c.tableData.id === id + 1;\n      });\n      if (!nextColumn) return; // console.log(\"S i: \" + column.tableData.initialWidth);\n      // console.log(\"S a: \" + column.tableData.additionalWidth);\n      // console.log(\"S w: \" + column.tableData.width);\n\n      column.tableData.additionalWidth = additionalWidth;\n      column.tableData.width = \"calc(\".concat(column.tableData.initialWidth, \" + \").concat(column.tableData.additionalWidth, \"px)\"); // nextColumn.tableData.additionalWidth = -1 * additionalWidth;\n      // nextColumn.tableData.width = `calc(${nextColumn.tableData.initialWidth} + ${nextColumn.tableData.additionalWidth}px)`;\n      // console.log(\"F i: \" + column.tableData.initialWidth);\n      // console.log(\"F a: \" + column.tableData.additionalWidth);\n      // console.log(\"F w: \" + column.tableData.width);\n    }\n  }, {\n    key: \"findGroupByGroupPath\",\n    value: function findGroupByGroupPath(renderData, path) {\n      var data = {\n        groups: renderData,\n        groupsIndex: this.rootGroupsIndex\n      };\n      var node = path.reduce(function (result, current) {\n        if (!result) {\n          return undefined;\n        }\n\n        if (result.groupsIndex[current] !== undefined) {\n          return result.groups[result.groupsIndex[current]];\n        }\n\n        return undefined; // const group = result.groups.find(a => a.value === current);\n        // return group;\n      }, data);\n      return node;\n    }\n  }, {\n    key: \"isDataType\",\n    value: function isDataType(type) {\n      var dataType = \"normal\";\n\n      if (this.parentFunc) {\n        dataType = \"tree\";\n      } else if (this.columns.find(function (a) {\n        return a.tableData.groupOrder > -1;\n      })) {\n        dataType = \"group\";\n      }\n\n      return type === dataType;\n    }\n  }, {\n    key: \"sort\",\n    value: function sort(a, b, type) {\n      if (type === \"numeric\") {\n        return a - b;\n      } else {\n        if (a !== b) {\n          // to find nulls\n          if (!a) return -1;\n          if (!b) return 1;\n        }\n\n        return a < b ? -1 : a > b ? 1 : 0;\n      }\n    }\n  }, {\n    key: \"sortList\",\n    value: function sortList(list) {\n      var _this4 = this;\n\n      var columnDef = this.columns.find(function (_) {\n        return _.tableData.id === _this4.orderBy;\n      });\n      var result = list;\n\n      if (columnDef.customSort) {\n        if (this.orderDirection === \"desc\") {\n          result = list.sort(function (a, b) {\n            return columnDef.customSort(b, a, \"row\", \"desc\");\n          });\n        } else {\n          result = list.sort(function (a, b) {\n            return columnDef.customSort(a, b, \"row\");\n          });\n        }\n      } else {\n        result = list.sort(this.orderDirection === \"desc\" ? function (a, b) {\n          return _this4.sort(_this4.getFieldValue(b, columnDef), _this4.getFieldValue(a, columnDef), columnDef.type);\n        } : function (a, b) {\n          return _this4.sort(_this4.getFieldValue(a, columnDef), _this4.getFieldValue(b, columnDef), columnDef.type);\n        });\n      }\n\n      return result;\n    }\n  }, {\n    key: \"groupData\",\n    value: function groupData() {\n      var _this5 = this;\n\n      this.sorted = this.paged = false;\n      this.groupedDataLength = 0;\n      var tmpData = (0, _toConsumableArray2.default)(this.searchedData);\n      var groups = this.columns.filter(function (col) {\n        return col.tableData.groupOrder > -1;\n      }).sort(function (col1, col2) {\n        return col1.tableData.groupOrder - col2.tableData.groupOrder;\n      });\n      var subData = tmpData.reduce(function (result, currentRow) {\n        var object = result;\n        object = groups.reduce(function (o, colDef) {\n          var value = currentRow[colDef.field] || (0, _2.byString)(currentRow, colDef.field);\n          var group;\n\n          if (o.groupsIndex[value] !== undefined) {\n            group = o.groups[o.groupsIndex[value]];\n          }\n\n          if (!group) {\n            var path = [].concat((0, _toConsumableArray2.default)(o.path || []), [value]);\n            var oldGroup = _this5.findGroupByGroupPath(_this5.groupedData, path) || {\n              isExpanded: typeof _this5.defaultExpanded === \"boolean\" ? _this5.defaultExpanded : false\n            };\n            group = {\n              value: value,\n              groups: [],\n              groupsIndex: {},\n              data: [],\n              isExpanded: oldGroup.isExpanded,\n              path: path\n            };\n            o.groups.push(group);\n            o.groupsIndex[value] = o.groups.length - 1;\n          }\n\n          return group;\n        }, object);\n        object.data.push(currentRow);\n        _this5.groupedDataLength++;\n        return result;\n      }, {\n        groups: [],\n        groupsIndex: {}\n      });\n      this.groupedData = subData.groups;\n      this.grouped = true;\n      this.rootGroupsIndex = subData.groupsIndex;\n    }\n  }, {\n    key: \"treefyData\",\n    value: function treefyData() {\n      var _this6 = this;\n\n      this.sorted = this.paged = false;\n      this.data.forEach(function (a) {\n        return a.tableData.childRows = null;\n      });\n      this.treefiedData = [];\n      this.treefiedDataLength = 0;\n      this.treeDataMaxLevel = 0; // if filter or search is enabled, collapse the tree\n\n      if (this.searchText || this.columns.some(function (columnDef) {\n        return columnDef.tableData.filterValue;\n      })) {\n        this.data.forEach(function (row) {\n          row.tableData.isTreeExpanded = false;\n        }); // expand the tree for all nodes present after filtering and searching\n\n        this.expandTreeForNodes(this.searchedData);\n      }\n\n      var addRow = function addRow(rowData) {\n        rowData.tableData.markedForTreeRemove = false;\n\n        var parent = _this6.parentFunc(rowData, _this6.data);\n\n        if (parent) {\n          parent.tableData.childRows = parent.tableData.childRows || [];\n\n          if (!parent.tableData.childRows.includes(rowData)) {\n            parent.tableData.childRows.push(rowData);\n            _this6.treefiedDataLength++;\n          }\n\n          addRow(parent);\n          rowData.tableData.path = [].concat((0, _toConsumableArray2.default)(parent.tableData.path), [parent.tableData.childRows.length - 1]);\n          _this6.treeDataMaxLevel = Math.max(_this6.treeDataMaxLevel, rowData.tableData.path.length);\n        } else {\n          if (!_this6.treefiedData.includes(rowData)) {\n            _this6.treefiedData.push(rowData);\n\n            _this6.treefiedDataLength++;\n            rowData.tableData.path = [_this6.treefiedData.length - 1];\n          }\n        }\n      }; // Add all rows initially\n\n\n      this.data.forEach(function (rowData) {\n        addRow(rowData);\n      });\n\n      var markForTreeRemove = function markForTreeRemove(rowData) {\n        var pointer = _this6.treefiedData;\n        rowData.tableData.path.forEach(function (pathPart) {\n          if (pointer.tableData && pointer.tableData.childRows) {\n            pointer = pointer.tableData.childRows;\n          }\n\n          pointer = pointer[pathPart];\n        });\n        pointer.tableData.markedForTreeRemove = true;\n      };\n\n      var traverseChildrenAndUnmark = function traverseChildrenAndUnmark(rowData) {\n        if (rowData.tableData.childRows) {\n          rowData.tableData.childRows.forEach(function (row) {\n            traverseChildrenAndUnmark(row);\n          });\n        }\n\n        rowData.tableData.markedForTreeRemove = false;\n      }; // for all data rows, restore initial expand if no search term is available and remove items that shouldn't be there\n\n\n      this.data.forEach(function (rowData) {\n        if (!_this6.searchText && !_this6.columns.some(function (columnDef) {\n          return columnDef.tableData.filterValue;\n        })) {\n          if (rowData.tableData.isTreeExpanded === undefined) {\n            var isExpanded = typeof _this6.defaultExpanded === \"boolean\" ? _this6.defaultExpanded : _this6.defaultExpanded(rowData);\n            rowData.tableData.isTreeExpanded = isExpanded;\n          }\n        }\n\n        var hasSearchMatchedChildren = rowData.tableData.isTreeExpanded;\n\n        if (!hasSearchMatchedChildren && _this6.searchedData.indexOf(rowData) < 0) {\n          markForTreeRemove(rowData);\n        }\n      }); // preserve all children of nodes that are matched by search or filters\n\n      this.data.forEach(function (rowData) {\n        if (_this6.searchedData.indexOf(rowData) > -1) {\n          traverseChildrenAndUnmark(rowData);\n        }\n      });\n\n      var traverseTreeAndDeleteMarked = function traverseTreeAndDeleteMarked(rowDataArray) {\n        for (var i = rowDataArray.length - 1; i >= 0; i--) {\n          var item = rowDataArray[i];\n\n          if (item.tableData.childRows) {\n            traverseTreeAndDeleteMarked(item.tableData.childRows);\n          }\n\n          if (item.tableData.markedForTreeRemove) rowDataArray.splice(i, 1);\n        }\n      };\n\n      traverseTreeAndDeleteMarked(this.treefiedData);\n      this.treefied = true;\n    }\n  }, {\n    key: \"sortData\",\n    value: function sortData() {\n      var _this7 = this;\n\n      this.paged = false;\n\n      if (this.isDataType(\"group\")) {\n        this.sortedData = (0, _toConsumableArray2.default)(this.groupedData);\n        var groups = this.columns.filter(function (col) {\n          return col.tableData.groupOrder > -1;\n        }).sort(function (col1, col2) {\n          return col1.tableData.groupOrder - col2.tableData.groupOrder;\n        });\n\n        var sortGroups = function sortGroups(list, columnDef) {\n          if (columnDef.customSort) {\n            return list.sort(columnDef.tableData.groupSort === \"desc\" ? function (a, b) {\n              return columnDef.customSort(b.value, a.value, \"group\");\n            } : function (a, b) {\n              return columnDef.customSort(a.value, b.value, \"group\");\n            });\n          } else {\n            return list.sort(columnDef.tableData.groupSort === \"desc\" ? function (a, b) {\n              return _this7.sort(b.value, a.value, columnDef.type);\n            } : function (a, b) {\n              return _this7.sort(a.value, b.value, columnDef.type);\n            });\n          }\n        };\n\n        this.sortedData = sortGroups(this.sortedData, groups[0]);\n\n        var sortGroupData = function sortGroupData(list, level) {\n          list.forEach(function (element) {\n            if (element.groups.length > 0) {\n              var column = groups[level];\n              element.groups = sortGroups(element.groups, column);\n              sortGroupData(element.groups, level + 1);\n            } else {\n              if (_this7.orderBy >= 0 && _this7.orderDirection) {\n                element.data = _this7.sortList(element.data);\n              }\n            }\n          });\n        };\n\n        sortGroupData(this.sortedData, 1);\n      } else if (this.isDataType(\"tree\")) {\n        this.sortedData = (0, _toConsumableArray2.default)(this.treefiedData);\n\n        if (this.orderBy != -1) {\n          this.sortedData = this.sortList(this.sortedData);\n\n          var sortTree = function sortTree(list) {\n            list.forEach(function (item) {\n              if (item.tableData.childRows) {\n                item.tableData.childRows = _this7.sortList(item.tableData.childRows);\n                sortTree(item.tableData.childRows);\n              }\n            });\n          };\n\n          sortTree(this.sortedData);\n        }\n      } else if (this.isDataType(\"normal\")) {\n        this.sortedData = (0, _toConsumableArray2.default)(this.searchedData);\n\n        if (this.orderBy != -1 && this.applySort) {\n          this.sortedData = this.sortList(this.sortedData);\n        }\n      }\n\n      this.sorted = true;\n    }\n  }, {\n    key: \"pageData\",\n    value: function pageData() {\n      this.pagedData = (0, _toConsumableArray2.default)(this.sortedData);\n\n      if (this.paging) {\n        var startIndex = this.currentPage * this.pageSize;\n        var endIndex = startIndex + this.pageSize;\n        this.pagedData = this.pagedData.slice(startIndex, endIndex);\n      }\n\n      this.paged = true;\n    }\n  }]);\n  return DataManager;\n}();\n\nexports.default = DataManager;"],"mappings":"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"},"metadata":{},"sourceType":"script"}